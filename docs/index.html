<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Title -->
		<script>
			try {
				const path = window.location.pathname;
				let repoName = path.split("/").filter(Boolean).pop() || "Home";
				repoName = repoName.replace(/[-_]/g, " ");
				repoName = repoName.replace(/\b\w/g, (c) => c.toUpperCase());

				document.title =
					repoName + " | " + "The Perfect Developer | Github";
			} catch (error) {
				document.title = "The Perfect Developer | Github";
				console.error("Error setting title:", error);
			}
		</script>

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<!-- Reveal.js CSS -->
		<link
			rel="stylesheet"
			href="https://unpkg.com/reveal.js/dist/reveal.css"
		/>
		<link
			rel="stylesheet"
			href="https://unpkg.com/reveal.js/dist/theme/black.css"
			id="theme"
		/>
		<!-- Highlight.js CSS for syntax highlighting -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css"
		/>

		<style>
			section {
				font-size: 1.5em;
			}

			/* VS Code-like editor styling - DEFAULT for ALL code blocks */
			.hljs {
				background: #1e1e1e !important;
				border-radius: 8px;
				position: relative;
				padding: 40px 20px 20px 20px !important;
				margin: 20px 0;
				box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
				border: 1px solid #333;
			}

			/* Mac-style window controls - DEFAULT for ALL code blocks */
			.hljs::before {
				content: "";
				position: absolute;
				top: 12px;
				left: 16px;
				width: 12px;
				height: 12px;
				border-radius: 50%;
				background: #ff5f57;
				box-shadow: 20px 0 0 #ffbd2e, 40px 0 0 #28ca42;
			}

			/* File tab - DEFAULT for ALL code blocks */
			.hljs::after {
				content: "The Perfect Developer Examples";
				position: absolute;
				top: 8px;
				left: 80px;
				right: 16px;
				height: 24px;
				background: #2d2d30;
				border-radius: 4px 4px 0 0;
				font-size: 12px;
				color: #cccccc;
				display: flex;
				align-items: center;
				padding: 0 12px;
				font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono",
					Consolas, "Courier New", monospace;
			}

			/* Custom filename support - overrides default name */
			.custom-filename.hljs::after,
			.terminal-title.hljs::after {
				content: var(--custom-filename) !important;
			}

			/* Line numbers styling */
			.hljs-ln-numbers {
				color: #858585 !important;
				padding-right: 16px !important;
				border-right: 1px solid #333 !important;
				margin-right: 16px !important;
				user-select: none;
			}

			/* Better code font */
			pre code {
				font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono",
					Consolas, "Courier New", monospace !important;
				font-size: 0.9em !important;
				line-height: 1.5 !important;
			}

			/* Terminal-specific styling for bash/shell/console blocks */
			.language-bash .hljs,
			.language-shell .hljs,
			.language-console .hljs,
			.language-terminal .hljs {
				background: #1e1e1e !important;
				border: 1px solid #333;
				border-radius: 8px;
				padding: 40px 20px 20px 20px !important;
				position: relative;
				box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
			}

			/* Terminal window controls (same red/yellow/green but for terminal) */
			.language-bash .hljs::before,
			.language-shell .hljs::before,
			.language-console .hljs::before,
			.language-terminal .hljs::before {
				content: "";
				position: absolute;
				top: 12px;
				left: 16px;
				width: 12px;
				height: 12px;
				border-radius: 50%;
				background: #ff5f57;
				box-shadow: 20px 0 0 #ffbd2e, 40px 0 0 #28ca42;
			}

			/* Terminal title bar - Higher specificity to override default */
			pre.language-bash code.hljs::after,
			pre.language-shell code.hljs::after,
			pre.language-console code.hljs::after,
			pre.language-terminal code.hljs::after,
			.language-bash .hljs::after,
			.language-shell .hljs::after,
			.language-console .hljs::after,
			.language-terminal .hljs::after {
				content: "Terminal" !important;
				position: absolute !important;
				top: 8px;
				left: 80px;
				right: 16px;
				height: 24px;
				background: #2d2d30 !important;
				border-radius: 4px 4px 0 0;
				font-size: 12px;
				color: #cccccc;
				display: flex;
				align-items: center;
				padding: 0 12px;
				font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono",
					Consolas, "Courier New", monospace;
			}

			/* No line numbers for terminal */
			.language-bash .hljs-ln-numbers,
			.language-shell .hljs-ln-numbers,
			.language-console .hljs-ln-numbers,
			.language-terminal .hljs-ln-numbers {
				display: none !important;
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<!-- Markdown file will be loaded here -->
				<section
					data-markdown="slides.md"
					data-separator="^---$"
					data-separator-vertical="^\*\*\*$"
					data-separator-notes="^Note:"
					data-charset="utf-8"
				></section>
			</div>
		</div>

		<!-- Reveal.js and plugins -->
		<script src="https://unpkg.com/reveal.js/dist/reveal.js"></script>
		<script src="https://unpkg.com/reveal.js/plugin/markdown/markdown.js"></script>
		<script src="https://unpkg.com/reveal.js/plugin/highlight/highlight.js"></script>

		<script>
			Reveal.initialize({
				hash: true,
				plugins: [RevealMarkdown, RevealHighlight],
				slideNumber: true,
				transition: "fade",
				autoAnimate: true,
				highlight: {
					highlightOnLoad: true,
					lineNumbers: true,
				},
			});

			// Custom filename support
			Reveal.addEventListener("ready", function () {
				updateCodeBlockFilenames();
			});

			Reveal.addEventListener("slidechanged", function () {
				updateCodeBlockFilenames();
			});

			function updateCodeBlockFilenames() {
				// Handle code blocks with custom filenames
				document
					.querySelectorAll("pre[data-filename]")
					.forEach(function (pre) {
						const filename = pre.getAttribute("data-filename");
						const codeBlock = pre.querySelector("code");
						if (codeBlock) {
							codeBlock.style.setProperty(
								"--custom-filename",
								`"${filename}"`
							);
							codeBlock.classList.add("custom-filename");
						}
					});

				// Handle code blocks inside sections with data-filename
				document
					.querySelectorAll("section[data-filename] pre code")
					.forEach(function (code) {
						const section = code.closest("section");
						const filename = section.getAttribute("data-filename");
						code.style.setProperty(
							"--custom-filename",
							`"${filename}"`
						);
						code.classList.add("custom-filename");
					});

				// Force terminal titles for bash/shell/console/terminal
				document
					.querySelectorAll(
						"code.language-bash, code.language-shell, code.language-console, code.language-terminal"
					)
					.forEach(function (code) {
						code.style.setProperty(
							"--custom-filename",
							'"Terminal"'
						);
						code.classList.add("terminal-title");
					});

				// Also check for classes that might be applied differently by highlight.js
				document.querySelectorAll("pre code").forEach(function (code) {
					const classList = code.className;
					if (
						classList.includes("bash") ||
						classList.includes("shell") ||
						classList.includes("console") ||
						classList.includes("terminal")
					) {
						code.style.setProperty(
							"--custom-filename",
							'"Terminal"'
						);
						code.classList.add("terminal-title");
					}
				});
			}
		</script>
	</body>
</html>
